import{p as Q,m as re,k as Ie,l as ke,q as Z,c as I,v as ee,h as l,x as H,y as J,M as Pe,I as ne,E as ae,z as Fe,A as pe,B as Re,C as Se,D as Be,F as Te,G as $e,H as De,r as $,J as Ee,K as Le,L as Oe,w as Ae,N as We,O as Me,P as Ne,Q as Ue,R as L,S as G,T as Ke,U as qe,W as je,X as ze,Y as He,Z as Xe,_ as Ye,n as ce,$ as Ge,s as Je,d as N,e as Qe,f as T,V as Ze,a0 as de,i as v,a1 as q,a2 as fe,u as j,t as ve,j as z}from"./index-BcIBdyOV.js";import{u as et}from"./list-CjBsJzAm.js";import{V as U,a as tt}from"./VRow-BAjd3698.js";import{V as lt,m as nt,u as ye,a as at,b as ot,c as he,d as me}from"./VInput-sis8ZnG8.js";class oe{constructor(i){let{x:a,y:o,width:t,height:n}=i;this.x=a,this.y=o,this.width=t,this.height=n}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function it(e){const i=e.getBoundingClientRect(),a=getComputedStyle(e),o=a.transform;if(o){let t,n,s,c,d;if(o.startsWith("matrix3d("))t=o.slice(9,-1).split(/, /),n=+t[0],s=+t[5],c=+t[12],d=+t[13];else if(o.startsWith("matrix("))t=o.slice(7,-1).split(/, /),n=+t[0],s=+t[3],c=+t[4],d=+t[5];else return new oe(i);const f=a.transformOrigin,m=i.x-c-(1-n)*parseFloat(f),g=i.y-d-(1-s)*parseFloat(f.slice(f.indexOf(" ")+1)),k=n?i.width/n:e.offsetWidth+1,b=s?i.height/s:e.offsetHeight+1;return new oe({x:m,y:g,width:k,height:b})}else return new oe(i)}function st(e,i,a){if(typeof e.animate>"u")return{finished:Promise.resolve()};let o;try{o=e.animate(i,a)}catch{return{finished:Promise.resolve()}}return typeof o.finished>"u"&&(o.finished=new Promise(t=>{o.onfinish=()=>{t(o)}})),o}const rt="cubic-bezier(0.4, 0, 0.2, 1)",ut=Q({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...re(),...Ie({transition:{component:ke}})},"VCounter"),ct=Z()({name:"VCounter",functional:!0,props:ut(),setup(e,i){let{slots:a}=i;const o=I(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return ee(()=>l(Pe,{transition:e.transition},{default:()=>[H(l("div",{class:["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class],style:e.style},[a.default?a.default({counter:o.value,max:e.max,value:e.value}):o.value]),[[J,e.active]])]})),{}}}),dt=Q({floating:Boolean,...re()},"VFieldLabel"),Y=Z()({name:"VFieldLabel",props:dt(),setup(e,i){let{slots:a}=i;return ee(()=>l(lt,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},a)),{}}}),ft=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],be=Q({appendInnerIcon:ne,bgColor:String,clearable:Boolean,clearIcon:{type:ne,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:ne,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>ft.includes(e)},"onClick:clear":ae(),"onClick:appendInner":ae(),"onClick:prependInner":ae(),...re(),...Fe(),...pe(),...Re()},"VField"),xe=Z()({name:"VField",inheritAttrs:!1,props:{id:String,...nt(),...be()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,i){let{attrs:a,emit:o,slots:t}=i;const{themeClasses:n}=Se(e),{loaderClasses:s}=Be(e),{focusClasses:c,isFocused:d,focus:f,blur:m}=ye(e),{InputIcon:g}=at(e),{roundedClasses:k}=Te(e),{rtlClasses:b}=$e(),p=I(()=>e.dirty||e.active),_=I(()=>!e.singleLine&&!!(e.label||t.label)),C=De(),h=I(()=>e.id||`input-${C}`),r=I(()=>`${h.value}-messages`),D=$(),V=$(),X=$(),u=I(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:P,backgroundColorStyles:F}=Ee(Le(e,"bgColor")),{textColorClasses:R,textColorStyles:te}=Oe(I(()=>e.error||e.disabled?void 0:p.value&&d.value?e.color:e.baseColor));Ae(p,y=>{if(_.value){const x=D.value.$el,S=V.value.$el;requestAnimationFrame(()=>{const B=it(x),w=S.getBoundingClientRect(),K=w.x-B.x,A=w.y-B.y-(B.height/2-w.height/2),W=w.width/.75,M=Math.abs(W-B.width)>1?{maxWidth:We(W)}:void 0,_e=getComputedStyle(x),ue=getComputedStyle(S),Ce=parseFloat(_e.transitionDuration)*1e3||150,Ve=parseFloat(ue.getPropertyValue("--v-field-label-scale")),we=ue.getPropertyValue("color");x.style.visibility="visible",S.style.visibility="hidden",st(x,{transform:`translate(${K}px, ${A}px) scale(${Ve})`,color:we,...M},{duration:Ce,easing:rt,direction:y?"normal":"reverse"}).finished.then(()=>{x.style.removeProperty("visibility"),S.style.removeProperty("visibility")})})}},{flush:"post"});const O=I(()=>({isActive:p,isFocused:d,controlRef:X,blur:m,focus:f}));function le(y){y.target!==document.activeElement&&y.preventDefault()}function E(y){var x;y.key!=="Enter"&&y.key!==" "||(y.preventDefault(),y.stopPropagation(),(x=e["onClick:clear"])==null||x.call(e,new MouseEvent("click")))}return ee(()=>{var K,A,W;const y=e.variant==="outlined",x=!!(t["prepend-inner"]||e.prependInnerIcon),S=!!(e.clearable||t.clear),B=!!(t["append-inner"]||e.appendInnerIcon||S),w=()=>t.label?t.label({...O.value,label:e.label,props:{for:h.value}}):e.label;return l("div",G({class:["v-field",{"v-field--active":p.value,"v-field--appended":B,"v-field--center-affix":e.centerAffix??!u.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":x,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!w(),[`v-field--variant-${e.variant}`]:!0},n.value,P.value,c.value,s.value,k.value,b.value,e.class],style:[F.value,e.style],onClick:le},a),[l("div",{class:"v-field__overlay"},null),l(Me,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:t.loader}),x&&l("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&l(g,{key:"prepend-icon",name:"prependInner"},null),(K=t["prepend-inner"])==null?void 0:K.call(t,O.value)]),l("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&_.value&&l(Y,{key:"floating-label",ref:V,class:[R.value],floating:!0,for:h.value,style:te.value},{default:()=>[w()]}),l(Y,{ref:D,for:h.value},{default:()=>[w()]}),(A=t.default)==null?void 0:A.call(t,{...O.value,props:{id:h.value,class:"v-field__input","aria-describedby":r.value},focus:f,blur:m})]),S&&l(Ne,{key:"clear"},{default:()=>[H(l("div",{class:"v-field__clearable",onMousedown:M=>{M.preventDefault(),M.stopPropagation()}},[l(Ue,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[t.clear?t.clear({...O.value,props:{onKeydown:E,onFocus:f,onBlur:m,onClick:e["onClick:clear"]}}):l(g,{name:"clear",onKeydown:E,onFocus:f,onBlur:m},null)]})]),[[J,e.dirty]])]}),B&&l("div",{key:"append",class:"v-field__append-inner"},[(W=t["append-inner"])==null?void 0:W.call(t,O.value),e.appendInnerIcon&&l(g,{key:"append-icon",name:"appendInner"},null)]),l("div",{class:["v-field__outline",R.value],style:te.value},[y&&l(L,null,[l("div",{class:"v-field__outline__start"},null),_.value&&l("div",{class:"v-field__outline__notch"},[l(Y,{ref:V,floating:!0,for:h.value},{default:()=>[w()]})]),l("div",{class:"v-field__outline__end"},null)]),u.value&&_.value&&l(Y,{ref:V,floating:!0,for:h.value},{default:()=>[w()]})])])}),{controlRef:X}}});function vt(e){const i=Object.keys(xe.props).filter(a=>!Ke(a)&&a!=="class"&&a!=="style");return qe(e,i)}const ie=Symbol("Forwarded refs");function se(e,i){let a=e;for(;a;){const o=Reflect.getOwnPropertyDescriptor(a,i);if(o)return o;a=Object.getPrototypeOf(a)}}function ht(e){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return e[ie]=a,new Proxy(e,{get(t,n){if(Reflect.has(t,n))return Reflect.get(t,n);if(!(typeof n=="symbol"||n.startsWith("$")||n.startsWith("__"))){for(const s of a)if(s.value&&Reflect.has(s.value,n)){const c=Reflect.get(s.value,n);return typeof c=="function"?c.bind(s.value):c}}},has(t,n){if(Reflect.has(t,n))return!0;if(typeof n=="symbol"||n.startsWith("$")||n.startsWith("__"))return!1;for(const s of a)if(s.value&&Reflect.has(s.value,n))return!0;return!1},set(t,n,s){if(Reflect.has(t,n))return Reflect.set(t,n,s);if(typeof n=="symbol"||n.startsWith("$")||n.startsWith("__"))return!1;for(const c of a)if(c.value&&Reflect.has(c.value,n))return Reflect.set(c.value,n,s);return!1},getOwnPropertyDescriptor(t,n){var c;const s=Reflect.getOwnPropertyDescriptor(t,n);if(s)return s;if(!(typeof n=="symbol"||n.startsWith("$")||n.startsWith("__"))){for(const d of a){if(!d.value)continue;const f=se(d.value,n)??("_"in d.value?se((c=d.value._)==null?void 0:c.setupState,n):void 0);if(f)return f}for(const d of a){const f=d.value&&d.value[ie];if(!f)continue;const m=f.slice();for(;m.length;){const g=m.shift(),k=se(g.value,n);if(k)return k;const b=g.value&&g.value[ie];b&&m.push(...b)}}}}})}const mt=["color","file","time","date","datetime-local","week","month"],gt=Q({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...ot(),...be()},"VTextField"),ge=Z()({name:"VTextField",directives:{Intersect:je},inheritAttrs:!1,props:gt(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,i){let{attrs:a,emit:o,slots:t}=i;const n=ze(e,"modelValue"),{isFocused:s,focus:c,blur:d}=ye(e),f=I(()=>typeof e.counterValue=="function"?e.counterValue(n.value):typeof e.counterValue=="number"?e.counterValue:(n.value??"").toString().length),m=I(()=>{if(a.maxlength)return a.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),g=I(()=>["plain","underlined"].includes(e.variant));function k(u,P){var F,R;!e.autofocus||!u||(R=(F=P[0].target)==null?void 0:F.focus)==null||R.call(F)}const b=$(),p=$(),_=$(),C=I(()=>mt.includes(e.type)||e.persistentPlaceholder||s.value||e.active);function h(){var u;_.value!==document.activeElement&&((u=_.value)==null||u.focus()),s.value||c()}function r(u){o("mousedown:control",u),u.target!==_.value&&(h(),u.preventDefault())}function D(u){h(),o("click:control",u)}function V(u){u.stopPropagation(),h(),ce(()=>{n.value=null,Ge(e["onClick:clear"],u)})}function X(u){var F;const P=u.target;if(n.value=P.value,(F=e.modelModifiers)!=null&&F.trim&&["text","search","password","tel","url"].includes(e.type)){const R=[P.selectionStart,P.selectionEnd];ce(()=>{P.selectionStart=R[0],P.selectionEnd=R[1]})}}return ee(()=>{const u=!!(t.counter||e.counter!==!1&&e.counter!=null),P=!!(u||t.details),[F,R]=He(a),{modelValue:te,...O}=he.filterProps(e),le=vt(e);return l(he,G({ref:b,modelValue:n.value,"onUpdate:modelValue":E=>n.value=E,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":g.value},e.class],style:e.style},F,O,{centerAffix:!g.value,focused:s.value}),{...t,default:E=>{let{id:y,isDisabled:x,isDirty:S,isReadonly:B,isValid:w}=E;return l(xe,G({ref:p,onMousedown:r,onClick:D,"onClick:clear":V,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},le,{id:y.value,active:C.value||S.value,dirty:S.value||e.dirty,disabled:x.value,focused:s.value,error:w.value===!1}),{...t,default:K=>{let{props:{class:A,...W}}=K;const M=H(l("input",G({ref:_,value:n.value,onInput:X,autofocus:e.autofocus,readonly:B.value,disabled:x.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:h,onBlur:d},W,R),null),[[Xe("intersect"),{handler:k},null,{once:!0}]]);return l(L,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[l("span",{class:"v-text-field__prefix__text"},[e.prefix])]),t.default?l("div",{class:A,"data-no-activator":""},[t.default(),M]):Ye(M,{class:A}),e.suffix&&l("span",{class:"v-text-field__suffix"},[l("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:P?E=>{var y;return l(L,null,[(y=t.details)==null?void 0:y.call(t,E),u&&l(L,null,[l("span",null,null),l(ct,{active:e.persistentCounter||s.value,value:f.value,max:m.value,disabled:e.disabled},t.counter)])])}:void 0})}),ht({},b,p,_)}}),yt=v("h1",{class:"text-center",style:{color:"#262626"}},"新增事項",-1),bt=v("h1",{class:"text-center",style:{color:"#262626"}},"代辦事項",-1),xt=v("thead",{style:{"background-color":"#ff9865"}},[v("tr",null,[v("th",{style:{color:"#262626"},class:"text-h5 font-weight-bold text-center"},"名稱"),v("th",{style:{color:"#262626"},class:"text-h5 font-weight-bold text-center"},"操作")])],-1),_t={class:"text-center"},Ct={style:{color:"#262626"},class:"font-weight-bold text-h6"},Vt=v("h1",{class:"text-center",style:{color:"#262626"}},"完成事項",-1),wt=v("thead",null,[v("tr",{style:{"background-color":"#ff9865"}},[v("th",{style:{color:"#262626"},class:"text-h5 font-weight-bold text-center"},"名稱"),v("th",{style:{color:"#262626"},class:"text-h5 font-weight-bold text-center"},"操作")])],-1),It={class:"text-center font-weight-bold text-h6"},Rt={__name:"list",setup(e){const i=et(),{addItem:a,editItem:o,delItem:t,cancelEditItem:n,confirmEditItem:s,delFinishItem:c}=i,{items:d,finishedItems:f}=Je(i),m=$(""),g=$(null),k=$([]),b={required:C=>!!C||"欄位必填",length:C=>C.length>=3||"必須三個字以上"},p=async()=>{const C=await g.value.validate();console.log(C),!(C.length>0)&&(a(m.value),g.value.reset())},_=async(C,h)=>{(await k.value[h].validate()).length>0||s(C)};return(C,h)=>(N(),Qe(Ze,{style:{width:"65%"}},{default:T(()=>[l(tt,{class:"bg-grey-lighten-4 my-8 py-8"},{default:T(()=>[l(U,{cols:"12"},{default:T(()=>[yt]),_:1}),l(U,{cols:"1"}),l(U,{cols:"10",class:"bg-grey-lighten-4"},{default:T(()=>[l(ge,{variant:"outlined",label:"新增事項",clearable:"","append-icon":"mdi-plus",onKeydown:de(p,["enter"]),"onClick:append":p,modelValue:m.value,"onUpdate:modelValue":h[0]||(h[0]=r=>m.value=r),rules:[b.required,b.length],ref_key:"newItemTextField",ref:g,color:"error"},null,8,["modelValue","rules"]),l(U,{cols:"12"},{default:T(()=>[bt]),_:1}),l(me,null,{default:T(()=>[xt,v("tbody",_t,[(N(!0),q(L,null,fe(j(d),(r,D)=>(N(),q("tr",{key:r.id,style:{"background-color":"#fcd3ac"}},[v("td",Ct,[H(v("span",null,ve(r.name),513),[[J,!r.edit]]),H(l(ge,{modelValue:r.model,"onUpdate:modelValue":V=>r.model=V,rules:[b.required,b.length],autofocus:"",onKeydown:de(V=>_(r.id,D),["enter"]),ref_for:!0,ref_key:"editItemTextField",ref:k},null,8,["modelValue","onUpdate:modelValue","rules","onKeydown"]),[[J,r.edit]])]),v("td",null,[r.edit?(N(),q(L,{key:1},[l(z,{icon:"mdi-check",onClick:V=>_(r.id,D),class:"bg-grey-darken-1 mx-1 my-2"},null,8,["onClick"]),l(z,{icon:"mdi-undo",onClick:V=>j(n)(r.id),class:"bg-grey-darken-1 mx-1 my-2"},null,8,["onClick"])],64)):(N(),q(L,{key:0},[l(z,{icon:"mdi-pencil",onClick:V=>j(o)(r.id),class:"bg-grey-darken-1 mx-1 my-2"},null,8,["onClick"]),l(z,{icon:"mdi-delete",onClick:V=>j(t)(r.id),class:"bg-grey-darken-1 mx-1 my-2"},null,8,["onClick"])],64))])]))),128))])]),_:1})]),_:1}),l(U,{cols:"12"},{default:T(()=>[Vt]),_:1}),l(U,{cols:"1"}),l(U,{cols:"10",class:"bg-grey-lighten-4"},{default:T(()=>[l(me,null,{default:T(()=>[wt,v("tbody",It,[(N(!0),q(L,null,fe(j(f),r=>(N(),q("tr",{key:r.id,style:{"background-color":"#fcd3ac",color:"#262626"}},[v("td",null,ve(r.name),1),v("td",null,[l(z,{variant:"text"}),l(z,{icon:"mdi-delete",onClick:D=>j(c)(r.id),class:"bg-grey-darken-1 mx-1 my-2"},null,8,["onClick"])])]))),128))])]),_:1})]),_:1})]),_:1})]),_:1}))}};export{Rt as default};
